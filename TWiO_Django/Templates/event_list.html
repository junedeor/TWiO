{% extends 'base.html' %}

{% block content %}
    <div class='form_container'>
        <form method="GET">
            {% csrf_token %}
            <h4>You can search for events by city, state, or zip code</h4>
            <input type='text' name='city' placeholder='Enter city'>
            <button type='submit' for='city'>Submit</button>
            <input type='text' name='postal_code' placeholder='Enter zip code'>
            <button type='submit' for='postal_code'>Submit</button>
            {% comment %} this needs to be disabled for demo; for testing purposes only {% endcomment %}
            <input type='text' name='state' placeholder='Enter 2-letter state'>
            <button type='submit' for='state'>Submit</button>
        </form>
    </div>
    {% comment %} this will eventually need event listener so it only shows once there are results {% endcomment %}
    <div class="mapLink">
        <p><a href="{% url "event_list:map_view" %}">See Results in Map</a></p>
    </div>
    <div class='list_container'>
        <table class="table table-hover">
            <thead>
                <tr>
                    <th scope="col">Event Name</th>
                    <th scope="col">Type of Event</th>
                    <th scope="col">City</th>
                    <th scope="col">State</th>
                    <th scope="col">Zip Code</th>
                    <th scope="col">Lat / Long</th> {# hide/change this #}
                    <th scope="col">Date and Time (Local)</th>
                </tr>
            </thead>
            {% for event in all_events %}
                <tbody>
                    <tr>
                        <th scope="row">{{ event.short_title }}</th>
                        <td>{{ event.event_type }}</td>
                        <td>{{ event.city }}</td>
                        <td>{{ event.state }}</td>
                        <td>{{ event.postal_code }}</td>
                        <td>{{ event.lat }} {{ event.lon }} </td>
                        <td>{{ event.local_dtg }}</td>
                    </tr>
                </tbody>
            {% endfor %}
        </table>
    </div>

{% endblock content %}



